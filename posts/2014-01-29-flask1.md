---
Title: Flask Mega Tutorila, Paas version(SAE), part I
Date: 2014-01-29 22:35
---

Probably all of you learn Flask studies via [The Flask Mega-Tutorial](http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world). Even though I believe it's typical that starting a tutorial for beginners to start learn by standlone env, a Paas version would be suiable for beginers who are aiming for using Paas as Infrustruction as Paas is "next big thing" and it's popular all over the word even in China. That's enough talk, let's get the work done.

List of tutorials:

1. [getting started and basic configurations in SAE](.)
2. []


SAE Basic Configuration
========================
Even though sae team claimed that flask only support 0.7 or some other version, I tried latest 0.10.1 in config file it works fine so far.

##SVN
Create first version and you would have a init version. detailed useage you could refer [SVN Doc for SAE](http://sae.sina.com.cn/?m=devcenter&catId=211).
After checkout, you would have a basic folder name 1 which could be used as a repo for your useage. 

##Initialize the MySQL
As sooner or later we would adopt MySQL, so we need intiallize it from the control panel.

##Local env (optional)
Please refer to [SAE python user guide](http://python.sinaapp.com/doc/index.html) for more details 


"Hello World" from Flask in SAE
===============================

##application folder structure
A recommandated project structure would be like this for now:


	1/
	    config.yaml
	    index.wsgi
	    main.py
	    app/
	        views.py
	        __init__.py
	        static/
	    tmp/



##flask modification in SAE

index.wsgi would be frontgate for all request, need a instance to hanle http requests:

```python
import sae

from main import app

application = sae.create_wsgi_app(app)
```

main.py would be like this: 

```python
from app import app
from flask import g, request
import MySQLdb

app.debug = True

from sae.const import (MYSQL_HOST, MYSQL_HOST_S,
	MYSQL_PORT, MYSQL_USER, MYSQL_PASS, MYSQL_DB
)

@app.before_request
def before_request():
	g.db = MySQLdb.connect(MYSQL_HOST, MYSQL_USER, MYSQL_PASS,
							MYSQL_DB, port=int(MYSQL_PORT))

@app.teardown_request
def teardown_request(exception):
	if hasattr(g, 'db'): g.db.close()
```


Ready to go
===========
SVN update and visit your application ID, or here to see what is [expected](http://1.flasktutorial.sinaapp.com/).